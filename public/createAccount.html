<!DOCTYPE html>
<html>
<head>
<link rel="stylesheet" href="style.css" />
<link href="https://fonts.googleapis.com/css2?family=Fredoka+One&display=swap" rel="stylesheet"/>
 <link rel="shortcut icon" type="image/png" href="Website Assets\Logo.png" />
<meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Birdpals</title>
    <style>
    </style>
</head>
<body>
<center>
<h1>Birdpals</h1>

<p>Create Account!</p>
<img src="Website Assets\menu_image.png" alt="Menu Image" width="500" height="375">
<form id="e-mail" onSubmit="logIn(); return false">
        <input id="input-e" type="text" maxlength="50" autocomplete="off" placeholder="E-mail"/>
</form> 
<form id="username" onSubmit="logIn(); return false">
        <input id="input-u" type="text" maxlength="50" autocomplete="off" placeholder="Username"/>
</form> 
<form id="password" onSubmit="logIn(); return false">
        <input id="input-p" type="password" maxlength="50" autocomplete="off" placeholder="Password"/>
</form> 
<form id="confirmpassword" onSubmit="logIn(); return false"> 
        <input id="input-cp" type="password" maxlength="50" autocomplete="off" placeholder="Confirm Password"/> 
</form>
<button onclick="logIn()" class="button">Create Account</button>
<p id="errorfield"> </p>
</center>
<script src="/socket.io/socket.io.js"></script>
<script type="text/javascript" src="https://download.playfab.com/PlayFabClientApi.js"></script>
<script>
function logIn() {
var eMail = document.getElementById('input-e');
var username = document.getElementById('input-u');
var password = document.getElementById('input-p'); // Feel free to add a function that the password input.value appear as ***** to the player
var confirmedpassword = document.getElementById('input-cp'); //Gets the confirmed password

var errorfield = document.getElementById('errorfield'); //Gets the text that appears when an error if found

var socket = io();
if(username.value != "" && password.value!="" && eMail.value != ""){
        if(password.value == confirmedpassword.value){
                console.log(username.value);
                
                socket.emit('createAccount', {eMail: eMail.value,username: username.value, password: password.value});
        }
        else{
                errorfield.innerHTML = "It appears the Password fields do not match."; //When the "Confirm Password" and "Password" fields do not contain the same text, display an error.
        }
}
else{
        errorfield.innerHTML = "Please fill out the Email, Username and Password fields."; //When there isn't any text in the username & password fields, display error.
}
}

</script>

</body>
</html>